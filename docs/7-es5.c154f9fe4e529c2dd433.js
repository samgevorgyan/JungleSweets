!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{GCp2:function(e,i,o){"use strict";o.r(i),o.d(i,"routes",function(){return dt}),o.d(i,"AdminModule",function(){return bt});var r,s=o("ofXK"),c=o("mrSG"),u=o("quSY"),m=o("jTqx"),l=function(t){return t.aboutMeImage="aboutme-img",t.assortmentImage="assortment-img",t.sliderImg="slider-img",t}({}),d=o("fXoL"),b=o("nYR2"),g=o("JIr8"),p=o("lJxs"),f=o("z6cu"),h=o("HDdC"),_=o("Vaw3"),x=o("I/3d"),v=o("tyNb"),P=o("Avyq"),M=((r=function(){function t(e,i,a,o){n(this,t),this.storage=e,this.afs=i,this.router=a,this.localize=o,this.isLogedin=!1}return a(t,[{key:"uploadFile",value:function(t,e){var n=this;return new Promise(function(i){var a="".concat(e,"/").concat((new Date).getTime(),"_").concat(t.name," "),o=n.storage.ref(a);o.put(t).snapshotChanges().pipe(Object(b.a)(function(){o.getDownloadURL().subscribe(function(t){i(t)})}),Object(g.a)(function(t){return n.permissionError(t),Object(f.a)(t)})).subscribe()})}},{key:"imageRender",value:function(t){return new h.a(function(e){null==t.type.match(/image\/*/)&&e.error("only images are acceptable");var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e.next(n.result),e.complete()}})}},{key:"setToDataBase",value:function(t,e){return this.afs.collection(e).add(t).catch(this.permissionError.bind(this))}},{key:"updateDataBaseDocument",value:function(t,e){return this.afs.doc(e).update(t).catch(this.permissionError.bind(this))}},{key:"getTest",value:function(t){this.afs.doc(t).valueChanges().subscribe(function(t){})}},{key:"getCollectionFromDb",value:function(t){return this.afs.collection(t).snapshotChanges().pipe(Object(p.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})}))}},{key:"deleteImageFromStorage",value:function(t,e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storage.storage.ref(t).storage.refFromURL(e).delete();case 2:case"end":return n.stop()}},n,this)}))}},{key:"permissionError",value:function(t){if(t.code.includes("permission-denied")||t.code.includes("storage/unauthorized")){var e=this.localize.translateRoute("/admin");this.router.navigate([e])}}}]),t}()).\u0275fac=function(t){return new(t||r)(d.Ub(_.a),d.Ub(x.a),d.Ub(v.j),d.Ub(P.c))},r.\u0275prov=d.Hb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),w=o("UbJi"),C=o("XiUz"),y=o("6NWb");function O(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div",8),d.Mb(1,"img",9),d.Qb(2,"fa-icon",10),d.Yb("click",function(){d.qc(n);var t=e.$implicit,i=e.index,a=d.bc().ngIf;return d.bc().deleteFromSlider(t,a[0].id,a[0].urls,i)}),d.Pb(),d.Pb()}if(2&t){var i=e.$implicit;d.Bb(1),d.gc("src",i,d.tc)}}function I(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div",2),d.Qb(1,"h1"),d.Bc(2,"Add or update slder image"),d.Pb(),d.Qb(3,"div"),d.Qb(4,"label",3),d.Bc(5," click on sheep to chose new img "),d.Mb(6,"img",4),d.Pb(),d.Qb(7,"input",5),d.Yb("change",function(t){d.qc(n);var i=e.ngIf;return d.bc().uploadAssortmentFiles(t,i[0].id,i[0].urls)}),d.Pb(),d.Pb(),d.Qb(8,"div",6),d.Ac(9,O,3,1,"div",7),d.Pb(),d.Pb()}if(2&t){var i=e.ngIf;d.Bb(9),d.gc("ngForOf",i[0].urls)}}var k,Q,A,B=((k=function(){function e(t,i){n(this,e),this.adminService=t,this.afAuth=i,this.subscription=new u.a}return a(e,[{key:"ngOnInit",value:function(){this.getSliderImages(m.a.sliderImg)}},{key:"getSliderImages",value:function(t){this.sliderImageUrls$=this.adminService.getCollectionFromDb(t)}},{key:"uploadAssortmentFiles",value:function(e,n,i){var a=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){a.adminService.imageRender(t).subscribe(function(e){a.adminService.uploadFile(t,l.sliderImg).then(function(t){return Object(c.a)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.push(t),a="".concat(m.a.sliderImg,"/").concat(n),e.next=4,this.adminService.updateDataBaseDocument({urls:i},a);case 4:case"end":return e.stop()}},e,this)}))})},function(t){alert(t)})})}},{key:"deleteFromSlider",value:function(t,e,n,i){var a=this;this.adminService.deleteImageFromStorage(l.sliderImg,t).then(function(t){return Object(c.a)(a,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.splice(i,1),a="".concat(m.a.sliderImg,"/").concat(e),t.next=4,this.adminService.updateDataBaseDocument({urls:n},a);case 4:case"end":return t.stop()}},t,this)}))})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(t){return new(t||k)(d.Lb(M),d.Lb(w.a))},k.\u0275cmp=d.Fb({type:k,selectors:[["jungle-admin"]],decls:3,vars:3,consts:[[1,"admin_container"],["class","add_slider_img","fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px",1,"add_slider_img"],["for","sliderImg",1,"typeFileLabel"],["src","../../../assets/img/admin/chose-file.gif","alt",""],["type","file","id","sliderImg",3,"change"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","slider_images",4,"ngFor","ngForOf"],[1,"slider_images"],["alt","slide_img",3,"src"],["icon","times-circle",3,"click"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Ac(1,I,10,1,"div",1),d.cc(2,"async"),d.Pb()),2&t&&(d.Bb(1),d.gc("ngIf",d.dc(2,1,e.sliderImageUrls$)))},directives:[s.k,C.e,C.d,C.f,s.j,y.a],pipes:[s.b],styles:[".admin_container[_ngcontent-%COMP%]{background-color:#fff;margin:auto;width:1280px}@media (min-width:1280px) and (max-width:1399px){.admin_container[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.admin_container[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.admin_container[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.admin_container[_ngcontent-%COMP%]{width:100%}}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]{padding:20px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]{width:200px;height:200px;position:relative}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px;padding:5px}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}"]}),k),F=o("sYmb"),L=o("bGsp"),S=((A=function(){function t(){n(this,t)}return a(t,[{key:"transform",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return t?Array.isArray(e)?this.multiExpressionTransform(t,e,n,i,a):Array.isArray(t)?this.sortArray(t.slice(),e,n,i,a):"object"==typeof t?this.transformObject(Object.assign({},t),e,n,i,a):t:t}},{key:"sortArray",value:function(e,n,i,a,o){var r,s=n&&-1!==n.indexOf(".");s&&(n=t.parseExpression(n)),r=o&&"function"==typeof o?o:a?t.caseInsensitiveSort:t.defaultCompare;var c=e.sort(function(e,i){return n?s?r(t.getValue(e,n),t.getValue(i,n)):e&&i?r(e[n],i[n]):r(e,i):r(e,i)});return i?c.reverse():c}},{key:"transformObject",value:function(e,n,i,a,o){var r=t.parseExpression(n),s=r.pop(),c=t.getValue(e,r);return Array.isArray(c)||(r.push(s),s=null,c=t.getValue(e,r)),c?(t.setValue(e,this.transform(c,s,i,a),r),e):e}},{key:"multiExpressionTransform",value:function(t,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return e.reverse().reduce(function(t,e){return i.transform(t,e,n,a,o)},t)}}],[{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"caseInsensitiveSort",value:function(e,n){return t.isString(e)&&t.isString(n)?e.localeCompare(n):t.defaultCompare(e,n)}},{key:"defaultCompare",value:function(t,e){return t&&t instanceof Date&&(t=t.getTime()),e&&e instanceof Date&&(e=e.getTime()),t===e?0:null==t?1:null==e?-1:t>e?1:-1}},{key:"parseExpression",value:function(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}},{key:"getValue",value:function(t,e){for(var n=0,i=e.length;n<i;++n){if(!t)return;var a=e[n];if(!(a in t))return;t="function"==typeof t[a]?t[a]():t[a]}return t}},{key:"setValue",value:function(t,e,n){var i;for(i=0;i<n.length-1;i++)t=t[n[i]];t[n[i]]=e}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275pipe=d.Kb({name:"orderBy",type:A,pure:!1}),A),D=((Q=function t(){n(this,t)}).\u0275mod=d.Jb({type:Q}),Q.\u0275inj=d.Ib({factory:function(t){return new(t||Q)},providers:[S]}),Q),T=o("3Pt+"),U=o("kmnG"),R=o("qFsG"),E=o("bTqV");function j(t,e){1&t&&(d.Qb(0,"mat-error"),d.Bc(1," Please enter a valid email address "),d.Pb())}function Y(t,e){1&t&&(d.Qb(0,"mat-error"),d.Bc(1," Email is "),d.Qb(2,"strong"),d.Bc(3,"required"),d.Pb(),d.Pb())}function q(t,e){1&t&&(d.Qb(0,"mat-error"),d.Bc(1," Password is "),d.Qb(2,"strong"),d.Bc(3,"required"),d.Pb(),d.Pb())}var G,$,N=(($=function(){function t(e,i,a,o,r){n(this,t),this.fb=e,this.adminService=i,this.router=a,this.route=o,this.afAuth=r,this.adminLoginForm=this.fb.group({emailForm:["",[T.n.required,T.n.email]],passwordForm:["",T.n.required]})}return a(t,[{key:"ngOnInit",value:function(){this.afAuth.signOut()}},{key:"logIn",value:function(){var t=this;this.afAuth.signInWithEmailAndPassword(this.email.value,this.password.value).then(function(e){e.user&&(t.adminService.isLogedin=!0,t.router.navigate(["./main"],{relativeTo:t.route}))}).catch(function(t){console.log("error",t)})}},{key:"email",get:function(){return this.adminLoginForm.get("emailForm")}},{key:"password",get:function(){return this.adminLoginForm.get("passwordForm")}}]),t}()).\u0275fac=function(t){return new(t||$)(d.Lb(T.b),d.Lb(M),d.Lb(v.j),d.Lb(v.a),d.Lb(w.a))},$.\u0275cmp=d.Fb({type:$,selectors:[["jungle-login"]],decls:15,vars:4,consts:[[1,"admin_login_container"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","30px",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","emailForm","placeholder","enter Email"],[4,"ngIf"],["matInput","","formControlName","passwordForm","placeholder","enter Password"],["mat-raised-button","","color","accent"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"form",1),d.Yb("ngSubmit",function(){return e.logIn()}),d.Qb(2,"mat-form-field",2),d.Qb(3,"mat-label"),d.Bc(4,"Email"),d.Pb(),d.Mb(5,"input",3),d.Ac(6,j,2,0,"mat-error",4),d.Ac(7,Y,4,0,"mat-error",4),d.Pb(),d.Qb(8,"mat-form-field",2),d.Qb(9,"mat-label"),d.Bc(10,"Password"),d.Pb(),d.Mb(11,"input",5),d.Ac(12,q,4,0,"mat-error",4),d.Pb(),d.Qb(13,"button",6),d.Bc(14,"Log in"),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.Bb(1),d.gc("formGroup",e.adminLoginForm),d.Bb(5),d.gc("ngIf",e.email.hasError("email")&&!e.email.hasError("required")),d.Bb(1),d.gc("ngIf",e.email.hasError("required")),d.Bb(5),d.gc("ngIf",e.password.hasError("required")))},directives:[T.o,T.i,C.e,C.d,C.f,T.d,U.c,U.f,R.a,T.a,T.h,T.c,s.k,E.a,U.b],styles:[".admin_login_container[_ngcontent-%COMP%]{background-color:#fff;margin:auto;min-height:calc(100% - 371px);width:1280px}@media (min-width:1280px) and (max-width:1399px){.admin_login_container[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.admin_login_container[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.admin_login_container[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.admin_login_container[_ngcontent-%COMP%]{width:100%}}"]}),$),V=((G=function(){function t(e,i,a,o){n(this,t),this.adminService=e,this.router=i,this.route=a,this.localize=o}return a(t,[{key:"canActivate",value:function(t,e){if(this.adminService.isLogedin)return!0;var n=this.localize.translateRoute("/admin");return this.router.navigate([n]),!1}}]),t}()).\u0275fac=function(t){return new(t||G)(d.Ub(M),d.Ub(v.j),d.Ub(v.a),d.Ub(P.c))},G.\u0275prov=d.Hb({token:G,factory:G.\u0275fac}),G),z=o("ihCf");function J(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div",11),d.Mb(1,"img",12),d.Qb(2,"fa-icon",13),d.Yb("click",function(){d.qc(n);var t=d.bc();return t.deleteAboutMeImage(null==t.aboutMe?null:t.aboutMe.url)}),d.Pb(),d.Pb()}if(2&t){var i=d.bc();d.Bb(1),d.gc("src",null==i.aboutMe?null:i.aboutMe.url,d.tc)}}var X,H=((X=function(){function e(t){n(this,e),this.adminService=t,this.uploadedFiles=[],this.oldRealImageUrl=""}return a(e,[{key:"ngOnInit",value:function(){this.getAboutMe("about-me")}},{key:"uploadAboutMeImage",value:function(e){var n=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){n.uploadedFiles.push(t),n.adminService.imageRender(t).subscribe(function(t){n.oldRealImageUrl=n.aboutMe.url,n.aboutMe.url=t},function(t){alert(t)})})}},{key:"deleteAboutMeImage",value:function(t){this.aboutMe.url="",this.uploadedFiles=[],t.includes("base64")||(this.oldRealImageUrl=t)}},{key:"saveAboutMe",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0!==this.uploadedFiles.length,!e.t0){e.next=5;break}return e.next=4,this.adminService.uploadFile(this.uploadedFiles[0],l.aboutMeImage);case 4:this.aboutMe.url=e.sent;case 5:if(this.oldRealImageUrl&&this.adminService.deleteImageFromStorage(l.aboutMeImage,this.oldRealImageUrl).then(function(t){}),n={aboutme:{am:this.aboutMe.aboutme.am,en:this.aboutMe.aboutme.en},url:this.aboutMe.url},!t){e.next=13;break}return i="".concat(m.a.aboutMe,"/").concat(t),e.next=11,this.adminService.updateDataBaseDocument(n,i);case 11:e.next=15;break;case 13:return e.next=15,this.adminService.setToDataBase(n,m.a.aboutMe);case 15:case"end":return e.stop()}},e,this)}))}},{key:"getAboutMe",value:function(t){var e=this;this.adminService.getCollectionFromDb(t).subscribe(function(t){e.aboutMe=t[0]})}}]),e}()).\u0275fac=function(t){return new(t||X)(d.Lb(M))},X.\u0275cmp=d.Fb({type:X,selectors:[["jungle-about-me"]],decls:21,vars:3,consts:[[1,"about_me_cont"],[1,"about_me"],["fxLayout","row","fxLayoutAlign","center start","fxLayoutGap","10px"],["fxFlex","40","fxFlex.xs","100",1,"am_desc"],["matInput","","cdkTextareaAutosize","","rows","5",3,"ngModel","ngModelChange"],["for","aboutMeImg",1,"typeFileLabel"],["src","../../../../assets/img/admin/chose-file.gif","alt","chose about me image"],["type","file","id","aboutMeImg",3,"change"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","slider_images",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"slider_images"],["alt","About me image",3,"src"],["icon","times-circle",3,"click"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Qb(2,"h1"),d.Bc(3,"About me"),d.Pb(),d.Qb(4,"div",2),d.Qb(5,"mat-form-field",3),d.Qb(6,"mat-label"),d.Bc(7,"About me in Armenian"),d.Pb(),d.Qb(8,"textarea",4),d.Yb("ngModelChange",function(t){return(null==e.aboutMe?null:e.aboutMe.aboutme).am=t}),d.Pb(),d.Pb(),d.Qb(9,"mat-form-field",3),d.Qb(10,"mat-label"),d.Bc(11,"About me in English"),d.Pb(),d.Qb(12,"textarea",4),d.Yb("ngModelChange",function(t){return(null==e.aboutMe?null:e.aboutMe.aboutme).en=t}),d.Pb(),d.Pb(),d.Pb(),d.Qb(13,"label",5),d.Bc(14," click on sheep to chose new img "),d.Mb(15,"img",6),d.Pb(),d.Qb(16,"input",7),d.Yb("change",function(t){return e.uploadAboutMeImage(t)}),d.Pb(),d.Qb(17,"div",8),d.Ac(18,J,3,1,"div",9),d.Pb(),d.Qb(19,"button",10),d.Yb("click",function(){return e.saveAboutMe(null==e.aboutMe?null:e.aboutMe.id)}),d.Bc(20,"Save about me"),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.Bb(8),d.gc("ngModel",null==e.aboutMe?null:e.aboutMe.aboutme.am),d.Bb(4),d.gc("ngModel",null==e.aboutMe?null:e.aboutMe.aboutme.en),d.Bb(6),d.gc("ngIf",""!==(null==e.aboutMe?null:e.aboutMe.url)))},directives:[C.e,C.d,C.f,U.c,C.b,U.f,R.a,z.b,T.a,T.h,T.k,s.k,E.a,y.a],styles:[".about_me_cont[_ngcontent-%COMP%]{width:1280px;background-color:#fff;margin:auto;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media (min-width:1280px) and (max-width:1399px){.about_me_cont[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.about_me_cont[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.about_me_cont[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.about_me_cont[_ngcontent-%COMP%]{width:100%}}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]{padding:20px;margin-top:20px}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]{width:200px;height:200px;position:relative}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px;padding:5px}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}"]}),X),W=o("Xa2L"),K=o("Wp6s");function Z(t,e){if(1&t){var n=d.Rb();d.Qb(0,"button",23),d.Yb("click",function(){return d.qc(n),d.bc().amTitle=""}),d.Mb(1,"fa-icon",24),d.Pb()}}function tt(t,e){if(1&t){var n=d.Rb();d.Qb(0,"button",23),d.Yb("click",function(){return d.qc(n),d.bc().enTitle=""}),d.Mb(1,"fa-icon",24),d.Pb()}}function et(t,e){if(1&t){var n=d.Rb();d.Qb(0,"button",23),d.Yb("click",function(){return d.qc(n),d.bc().amTitle=""}),d.Mb(1,"fa-icon",24),d.Pb()}}function nt(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div",25),d.Qb(1,"mat-form-field"),d.Qb(2,"mat-label"),d.Bc(3,"Assortment Armenian name"),d.Pb(),d.Qb(4,"input",26),d.Yb("ngModelChange",function(t){d.qc(n);var i=e.index;return d.bc().assortmentsImages[i].name.am=t}),d.Pb(),d.Pb(),d.Qb(5,"mat-form-field"),d.Qb(6,"mat-label"),d.Bc(7,"Assortment English name"),d.Pb(),d.Qb(8,"input",26),d.Yb("ngModelChange",function(t){d.qc(n);var i=e.index;return d.bc().assortmentsImages[i].name.en=t}),d.Pb(),d.Pb(),d.Qb(9,"mat-form-field"),d.Qb(10,"mat-label"),d.Bc(11,"Assortment price"),d.Pb(),d.Qb(12,"input",27),d.Yb("ngModelChange",function(t){d.qc(n);var i=e.index;return d.bc().assortmentsImages[i].price=t}),d.Pb(),d.Pb(),d.Qb(13,"div",28),d.Mb(14,"img",29),d.Qb(15,"fa-icon",30),d.Yb("click",function(){d.qc(n);var t=e.index,i=e.$implicit;return d.bc().deleteAssortmentImage(t,i.url)}),d.Pb(),d.Qb(16,"input",31),d.Yb("change",function(){d.qc(n);var t=e.index;return d.bc().makeMainImage(t)}),d.Pb(),d.Pb(),d.Pb()}if(2&t){var i=e.$implicit,a=e.index,o=d.bc();d.Bb(4),d.hc("name","inputArm",a,""),d.gc("ngModel",o.assortmentsImages[a].name.am),d.Bb(4),d.hc("name","inputEn",a,""),d.gc("ngModel",o.assortmentsImages[a].name.en),d.Bb(4),d.hc("name","inputPrice",a,""),d.gc("ngModel",o.assortmentsImages[a].price),d.Bb(2),d.gc("src",i.url,d.tc),d.Bb(2),d.gc("checked",i.main)}}function it(t,e){1&t&&d.Mb(0,"mat-spinner",34)}function at(t,e){if(1&t){var n=d.Rb();d.Qb(0,"button",32),d.Yb("click",function(){return d.qc(n),d.bc().addNewAssortmentFunc()}),d.Bc(1," Add new assortment "),d.Ac(2,it,1,0,"mat-spinner",33),d.Pb()}if(2&t){var i=d.bc();d.Bb(2),d.gc("ngIf",i.isLoading)}}function ot(t,e){1&t&&d.Mb(0,"mat-spinner",34)}function rt(t,e){if(1&t){var n=d.Rb();d.Qb(0,"button",32),d.Yb("click",function(){return d.qc(n),d.bc().addNewAssortmentFunc()}),d.Bc(1," Update assortment "),d.Ac(2,ot,1,0,"mat-spinner",33),d.Pb()}if(2&t){var i=d.bc();d.Bb(2),d.gc("ngIf",i.isLoading)}}function st(t,e){if(1&t&&d.Mb(0,"input",43),2&t){var n=d.bc().$implicit;d.gc("checked",n.main)}}function ct(t,e){if(1&t&&(d.Qb(0,"div",39),d.Qb(1,"mat-card",40),d.Qb(2,"mat-card-header"),d.Ac(3,st,1,1,"input",41),d.Qb(4,"mat-card-title"),d.Bc(5),d.Pb(),d.Qb(6,"mat-card-title"),d.Bc(7),d.Pb(),d.Qb(8,"mat-card-subtitle"),d.Bc(9),d.Pb(),d.Pb(),d.Mb(10,"img",42),d.Pb(),d.Pb()),2&t){var n=e.$implicit;d.Bb(3),d.gc("ngIf",n.main),d.Bb(2),d.Cc(n.name.am),d.Bb(2),d.Cc(n.name.en),d.Bb(2),d.Cc(n.price),d.Bb(1),d.gc("src",n.url,d.tc)}}function ut(t,e){if(1&t){var n=d.Rb();d.Qb(0,"div",35),d.Qb(1,"button",36),d.Yb("click",function(){d.qc(n);var t=e.$implicit,i=d.bc(),a=d.nc(2);return i.editAssortment(t,a)}),d.Bc(2," Edit "),d.Pb(),d.Qb(3,"h3"),d.Bc(4,"Title Armenian"),d.Pb(),d.Qb(5,"p"),d.Bc(6),d.Pb(),d.Qb(7,"h3"),d.Bc(8,"Title English"),d.Pb(),d.Qb(9,"p"),d.Bc(10),d.Pb(),d.Qb(11,"h3"),d.Bc(12,"Description Armenian"),d.Pb(),d.Qb(13,"p"),d.Bc(14),d.Pb(),d.Qb(15,"h3"),d.Bc(16,"Description English"),d.Pb(),d.Qb(17,"p"),d.Bc(18),d.Pb(),d.Qb(19,"h3"),d.Bc(20,"price"),d.Pb(),d.Qb(21,"p"),d.Bc(22),d.Pb(),d.Qb(23,"h3"),d.Bc(24,"puctures"),d.Pb(),d.Qb(25,"div",37),d.Ac(26,ct,11,5,"div",38),d.Pb(),d.Pb()}if(2&t){var i=e.$implicit;d.Bb(6),d.Cc(i.title.am),d.Bb(4),d.Cc(i.title.en),d.Bb(4),d.Cc(i.description.am),d.Bb(4),d.Cc(i.description.en),d.Bb(4),d.Cc(i.price),d.Bb(4),d.gc("ngForOf",i.urls)}}var mt,lt,dt=[{path:"",component:N},{path:"main",component:B},{path:"about",component:H},{path:"assortments",component:(mt=function(){function e(t,i){n(this,e),this.adminService=t,this.platformId=i,this.assortments=[],this.assortmentsImages=[],this.amTitle="",this.enTitle="",this.enDescription="",this.amDescription="",this.uploadedFiles=[],this.price="",this.deletedUrls=[],this.idForUpdate=null,this.isLoading=!1}return a(e,[{key:"ngOnInit",value:function(){Object(s.r)(this.platformId)&&this.getAssortments(m.a.assortments)}},{key:"getAssortments",value:function(e){var n=this;this.adminService.getCollectionFromDb(e).subscribe(function(e){n.assortments=t(e)})}},{key:"uploadAssortmentFiles",value:function(e,n){var i=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){i.uploadedFiles.push(t),i.adminService.imageRender(t).subscribe(function(t){i.assortmentsImages.push({url:t,main:!1,name:{am:"",en:""},price:""})},function(t){alert(t)})})}},{key:"manageUrls",value:function(){var t=this;return new Promise(function(e){Promise.all(t.uploadedFiles.map(function(e,n){return t.adminService.uploadFile(e,l.assortmentImage)})).then(function(n){var i=t.assortmentsImages.length-t.uploadedFiles.length;n.forEach(function(e,n){t.assortmentsImages[n+i].url=e}),e("")})})}},{key:"addNewAssortmentFunc",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.t0=""!==this.amTitle&&""!==this.enTitle&&""!==this.enDescription&&""!==this.amDescription&&""!==this.price,!t.t0){t.next=9;break}if(t.t1=0!==this.uploadedFiles.length,!t.t1){t.next=7;break}return t.next=7,this.manageUrls();case 7:this.addNewAssortment={title:{am:this.amTitle?this.amTitle:"",en:this.enTitle?this.enTitle:""},description:{am:this.amDescription,en:this.enDescription},price:this.price,urls:this.assortmentsImages},null===this.idForUpdate?this.adminService.setToDataBase(this.addNewAssortment,m.a.assortments).then(function(t){e.isLoading=!1,e.resetForm()}):this.adminService.updateDataBaseDocument(this.addNewAssortment,"".concat(m.a.assortments,"/").concat(this.idForUpdate)).then(function(t){0!==e.deletedUrls.length?e.deletedUrls.forEach(function(t){e.adminService.deleteImageFromStorage(l.assortmentImage,t).then(function(t){e.isLoading=!1,e.resetForm()})}):(e.isLoading=!1,e.resetForm())});case 9:case"end":return t.stop()}},t,this)}))}},{key:"resetForm",value:function(){this.amTitle="",this.enTitle="",this.amDescription="",this.enDescription="",this.price="",this.assortmentsImages=[],this.idForUpdate=null,this.assortmentUploadInput="",this.uploadedFiles=[],this.deletedUrls=[]}},{key:"editAssortment",value:function(e,n){this.amTitle=e.title.am,this.enTitle=e.title.en,this.amDescription=e.description.am,this.enDescription=e.description.en,this.price=e.price,this.assortmentsImages=t(e.urls),this.idForUpdate=e.id,n.scrollIntoView()}},{key:"makeMainImage",value:function(t){this.assortmentsImages.forEach(function(t){t.main=!1}),this.assortmentsImages[t].main=!0}},{key:"deleteAssortment",value:function(t,e,n){}},{key:"deleteAssortmentImage",value:function(t,e){var n=this.assortmentsImages.length-this.uploadedFiles.length;this.assortmentsImages.splice(t,1),e.includes("base64")?this.uploadedFiles.splice(t-n,1):this.deletedUrls.push(e)}}]),e}(),mt.\u0275fac=function(t){return new(t||mt)(d.Lb(M),d.Lb(d.B))},mt.\u0275cmp=d.Fb({type:mt,selectors:[["jungle-assortment"]],decls:45,vars:14,consts:[[1,"assortment_cont"],[1,"add_new_assortment_cont"],["formDiv",""],[1,"add_new_assortment"],[1,"assortment_title"],[1,"am_title"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"en_title"],["fxLayout","row wrap","fxLayoutAlign","center center","fxLayoutGap","20px",1,"assortment_desc"],[1,"am_desc"],["matInput","","cdkTextareaAutosize","","rows","5",3,"ngModel","ngModelChange"],[1,"en_desc"],[1,"price"],[1,"upload_assortment_img"],["for","assortmentImg",1,"typeFileLabel"],["src","../../../../assets/img/admin/chose-file.gif","alt",""],["type","file","id","assortmentImg",3,"multiple","ngModel","ngModelChange","change"],["fxLayout","row wrap","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutAlign","center center","class","delete_assortment_image_div",4,"ngFor","ngForOf"],["class","add_new_assortment_button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"assortment_show_part_cont"],["class","assortment_show_div",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["icon","times-circle"],["fxLayout","column","fxLayoutAlign","center center",1,"delete_assortment_image_div"],["matInput","","type","text",3,"name","ngModel","ngModelChange"],["matInput","","type","number",3,"name","ngModel","ngModelChange"],[1,"images_div"],["alt","",3,"src"],["icon","times-circle",3,"click"],["type","checkbox",3,"checked","change"],["mat-raised-button","","color","primary",1,"add_new_assortment_button",3,"click"],["color","accent",4,"ngIf"],["color","accent"],[1,"assortment_show_div"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","assortment_show_image_div",4,"ngFor","ngForOf"],[1,"assortment_show_image_div"],[1,"example-card"],["type","checkbox",3,"checked",4,"ngIf"],["mat-card-image","","alt","picture",3,"src"],["type","checkbox",3,"checked"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1,2),d.Qb(3,"h1"),d.Bc(4,"Add new assortment"),d.Pb(),d.Qb(5,"div",3),d.Qb(6,"div",4),d.Qb(7,"mat-form-field",5),d.Qb(8,"mat-label"),d.Bc(9,"Title Armenian "),d.Pb(),d.Qb(10,"input",6),d.Yb("ngModelChange",function(t){return e.amTitle=t}),d.Pb(),d.Ac(11,Z,2,0,"button",7),d.Pb(),d.Qb(12,"mat-form-field",8),d.Qb(13,"mat-label"),d.Bc(14,"Title English "),d.Pb(),d.Qb(15,"input",6),d.Yb("ngModelChange",function(t){return e.enTitle=t}),d.Pb(),d.Ac(16,tt,2,0,"button",7),d.Pb(),d.Pb(),d.Qb(17,"div",9),d.Qb(18,"mat-form-field",10),d.Qb(19,"mat-label"),d.Bc(20,"Description in Armenian"),d.Pb(),d.Qb(21,"textarea",11),d.Yb("ngModelChange",function(t){return e.amDescription=t}),d.Pb(),d.Pb(),d.Qb(22,"mat-form-field",12),d.Qb(23,"mat-label"),d.Bc(24,"Description in English"),d.Pb(),d.Qb(25,"textarea",11),d.Yb("ngModelChange",function(t){return e.enDescription=t}),d.Pb(),d.Pb(),d.Pb(),d.Qb(26,"div",13),d.Qb(27,"mat-form-field",5),d.Qb(28,"mat-label"),d.Bc(29,"Price in AMD "),d.Pb(),d.Qb(30,"input",6),d.Yb("ngModelChange",function(t){return e.price=t}),d.Pb(),d.Ac(31,et,2,0,"button",7),d.Pb(),d.Pb(),d.Qb(32,"div",14),d.Qb(33,"label",15),d.Bc(34," click on sheep to chose new img "),d.Mb(35,"img",16),d.Pb(),d.Qb(36,"input",17),d.Yb("ngModelChange",function(t){return e.assortmentUploadInput=t})("change",function(t){return e.uploadAssortmentFiles(t,"assortment-img")}),d.Pb(),d.Qb(37,"div",18),d.Ac(38,nt,17,8,"div",19),d.Pb(),d.Pb(),d.Pb(),d.Ac(39,at,3,1,"button",20),d.Ac(40,rt,3,1,"button",20),d.Pb(),d.Qb(41,"div",21),d.Qb(42,"h1"),d.Bc(43,"Existing assortment"),d.Pb(),d.Ac(44,ut,27,6,"div",22),d.Pb(),d.Pb()),2&t&&(d.Bb(10),d.gc("ngModel",e.amTitle),d.Bb(1),d.gc("ngIf",e.amTitle),d.Bb(4),d.gc("ngModel",e.enTitle),d.Bb(1),d.gc("ngIf",e.enTitle),d.Bb(5),d.gc("ngModel",e.amDescription),d.Bb(4),d.gc("ngModel",e.enDescription),d.Bb(5),d.gc("ngModel",e.price),d.Bb(1),d.gc("ngIf",e.amTitle),d.Bb(5),d.gc("multiple",!0)("ngModel",e.assortmentUploadInput),d.Bb(2),d.gc("ngForOf",e.assortmentsImages),d.Bb(1),d.gc("ngIf",null===e.idForUpdate),d.Bb(1),d.gc("ngIf",null!==e.idForUpdate),d.Bb(4),d.gc("ngForOf",e.assortments))},directives:[U.c,U.f,R.a,T.a,T.h,T.k,s.k,C.e,C.d,C.f,z.b,s.j,E.a,U.g,y.a,T.l,W.b,K.a,K.c,K.g,K.f,K.d],styles:[".assortment_cont[_ngcontent-%COMP%]{width:1280px;background-color:#fff;margin:auto;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media (min-width:1280px) and (max-width:1399px){.assortment_cont[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.assortment_cont[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.assortment_cont[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.assortment_cont[_ngcontent-%COMP%]{width:100%}}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]{padding:20px;margin:20px 0;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_title[_ngcontent-%COMP%]   .am_title[_ngcontent-%COMP%]{margin-right:30px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_desc[_ngcontent-%COMP%]   .am_desc[_ngcontent-%COMP%], .assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_desc[_ngcontent-%COMP%]   .en_desc[_ngcontent-%COMP%]{width:40%;min-width:200px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]{width:200px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]{position:relative;height:200px;padding:5px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:5px;bottom:10px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]{padding:20px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]{padding:20px;margin:20px 0;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]{width:250px;position:relative}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:5px;bottom:10px}button[_ngcontent-%COMP%]{position:relative}  mat-spinner{position:absolute!important;top:0;left:0;bottom:0;right:0;margin:auto}  mat-spinner,   mat-spinner svg{width:20px!important;height:20px!important}"]}),mt)}],bt=((lt=function t(){n(this,t)}).\u0275mod=d.Jb({type:lt}),lt.\u0275inj=d.Ib({factory:function(t){return new(t||lt)},providers:[V],imports:[[s.c,v.m.forChild(dt),F.b.forChild(),L.a,D,T.e]]}),lt)}}])}();