!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{GCp2:function(e,i,o){"use strict";o.r(i),o.d(i,"routes",function(){return dt}),o.d(i,"AdminModule",function(){return bt});var r,c=o("ofXK"),s=o("mrSG"),u=o("jqqC"),m=o("jTqx"),l=function(t){return t.aboutMeImage="aboutme-img",t.assortmentImage="assortment-img",t.sliderImg="slider-img",t}({}),d=o("fXoL"),b=o("BjsQ"),g=o("VZwH"),p=o("rdQv"),f=o("lhB6"),h=o("SIQg"),_=o("Vaw3"),x=o("I/3d"),v=o("tyNb"),M=o("Avyq"),w=((r=function(){function t(e,i,a,o){n(this,t),this.storage=e,this.afs=i,this.router=a,this.localize=o,this.isLogedin=!1}return a(t,[{key:"uploadFile",value:function(t,e){var n=this;return new Promise(function(i){var a="".concat(e,"/").concat((new Date).getTime(),"_").concat(t.name," "),o=n.storage.ref(a);o.put(t).snapshotChanges().pipe(Object(b.a)(function(){o.getDownloadURL().subscribe(function(t){i(t)})}),Object(g.a)(function(t){return n.permissionError(t),Object(f.a)(t)})).subscribe()})}},{key:"imageRender",value:function(t){return new h.a(function(e){null==t.type.match(/image\/*/)&&e.error("only images are acceptable");var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){e.next(n.result),e.complete()}})}},{key:"setToDataBase",value:function(t,e){return this.afs.collection(e).add(t).catch(this.permissionError.bind(this))}},{key:"updateDataBaseDocument",value:function(t,e){return this.afs.doc(e).update(t).catch(this.permissionError.bind(this))}},{key:"getTest",value:function(t){this.afs.doc(t).valueChanges().subscribe(function(t){})}},{key:"getCollectionFromDb",value:function(t){return this.afs.collection(t).snapshotChanges().pipe(Object(p.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})}))}},{key:"deleteImageFromStorage",value:function(t,e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storage.storage.ref(t).storage.refFromURL(e).delete();case 2:case"end":return n.stop()}},n,this)}))}},{key:"permissionError",value:function(t){if(t.code.includes("permission-denied")||t.code.includes("storage/unauthorized")){var e=this.localize.translateRoute("/admin");this.router.navigate([e])}}}]),t}()).\u0275fac=function(t){return new(t||r)(d.Wb(_.a),d.Wb(x.a),d.Wb(v.j),d.Wb(M.c))},r.\u0275prov=d.Jb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),C=o("UbJi"),O=o("XiUz"),S=o("6NWb");function y(t,e){if(1&t){var n=d.Tb();d.Sb(0,"div",8),d.Ob(1,"img",9),d.Sb(2,"fa-icon",10),d.ac("click",function(){d.uc(n);var t=e.$implicit,i=e.index,a=d.ec().ngIf;return d.ec().deleteFromSlider(t,a[0].id,a[0].urls,i)}),d.Rb(),d.Rb()}if(2&t){var i=e.$implicit;d.Db(1),d.kc("src",i,d.xc)}}function k(t,e){if(1&t){var n=d.Tb();d.Sb(0,"div",2),d.Sb(1,"h1"),d.Dc(2,"Add or update slder image"),d.Rb(),d.Sb(3,"div"),d.Sb(4,"label",3),d.Dc(5," click on sheep to chose new img "),d.Ob(6,"img",4),d.Rb(),d.Sb(7,"input",5),d.ac("change",function(t){d.uc(n);var i=e.ngIf;return d.ec().uploadAssortmentFiles(t,i[0].id,i[0].urls)}),d.Rb(),d.Rb(),d.Sb(8,"div",6),d.Cc(9,y,3,1,"div",7),d.Rb(),d.Rb()}if(2&t){var i=e.ngIf;d.Db(9),d.kc("ngForOf",i[0].urls)}}var D,R,P,I=((D=function(){function e(t,i){n(this,e),this.adminService=t,this.afAuth=i,this.subscription=new u.a}return a(e,[{key:"ngOnInit",value:function(){this.getSliderImages(m.a.sliderImg)}},{key:"getSliderImages",value:function(t){this.sliderImageUrls$=this.adminService.getCollectionFromDb(t)}},{key:"uploadAssortmentFiles",value:function(e,n,i){var a=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){a.adminService.imageRender(t).subscribe(function(e){a.adminService.uploadFile(t,l.sliderImg).then(function(t){return Object(s.b)(a,void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.push(t),a="".concat(m.a.sliderImg,"/").concat(n),e.next=4,this.adminService.updateDataBaseDocument({urls:i},a);case 4:case"end":return e.stop()}},e,this)}))})},function(t){alert(t)})})}},{key:"deleteFromSlider",value:function(t,e,n,i){var a=this;this.adminService.deleteImageFromStorage(l.sliderImg,t).then(function(t){return Object(s.b)(a,void 0,void 0,regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.splice(i,1),a="".concat(m.a.sliderImg,"/").concat(e),t.next=4,this.adminService.updateDataBaseDocument({urls:n},a);case 4:case"end":return t.stop()}},t,this)}))})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(t){return new(t||D)(d.Nb(w),d.Nb(C.a))},D.\u0275cmp=d.Hb({type:D,selectors:[["jungle-admin"]],decls:3,vars:3,consts:[[1,"admin_container"],["class","add_slider_img","fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px",1,"add_slider_img"],["for","sliderImg",1,"typeFileLabel"],["src","../../../assets/img/admin/chose-file.gif","alt",""],["type","file","id","sliderImg",3,"change"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","slider_images",4,"ngFor","ngForOf"],[1,"slider_images"],["alt","slide_img",3,"src"],["icon","times-circle",3,"click"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Cc(1,k,10,1,"div",1),d.fc(2,"async"),d.Rb()),2&t&&(d.Db(1),d.kc("ngIf",d.gc(2,1,e.sliderImageUrls$)))},directives:[c.k,O.e,O.d,O.f,c.j,S.a],pipes:[c.b],styles:[".admin_container[_ngcontent-%COMP%]{background-color:#fff;margin:auto;width:1280px}@media (min-width:1280px) and (max-width:1399px){.admin_container[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.admin_container[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.admin_container[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.admin_container[_ngcontent-%COMP%]{width:100%}}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]{padding:20px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]{width:200px;height:200px;position:relative}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px;padding:5px}.admin_container[_ngcontent-%COMP%]   .add_slider_img[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}"]}),D),A=o("sYmb"),F=o("bGsp"),L=((P=function(){function t(){n(this,t)}return a(t,[{key:"transform",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return t?Array.isArray(e)?this.multiExpressionTransform(t,e,n,i,a):Array.isArray(t)?this.sortArray(t.slice(),e,n,i,a):"object"==typeof t?this.transformObject(Object.assign({},t),e,n,i,a):t:t}},{key:"sortArray",value:function(e,n,i,a,o){var r,c=n&&-1!==n.indexOf(".");c&&(n=t.parseExpression(n)),r=o&&"function"==typeof o?o:a?t.caseInsensitiveSort:t.defaultCompare;var s=e.sort(function(e,i){return n?c?r(t.getValue(e,n),t.getValue(i,n)):e&&i?r(e[n],i[n]):r(e,i):r(e,i)});return i?s.reverse():s}},{key:"transformObject",value:function(e,n,i,a,o){var r=t.parseExpression(n),c=r.pop(),s=t.getValue(e,r);return Array.isArray(s)||(r.push(c),c=null,s=t.getValue(e,r)),s?(t.setValue(e,this.transform(s,c,i,a),r),e):e}},{key:"multiExpressionTransform",value:function(t,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return e.reverse().reduce(function(t,e){return i.transform(t,e,n,a,o)},t)}}],[{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"caseInsensitiveSort",value:function(e,n){return t.isString(e)&&t.isString(n)?e.localeCompare(n):t.defaultCompare(e,n)}},{key:"defaultCompare",value:function(t,e){return t&&t instanceof Date&&(t=t.getTime()),e&&e instanceof Date&&(e=e.getTime()),t===e?0:null==t?1:null==e?-1:t>e?1:-1}},{key:"parseExpression",value:function(t){return(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".")}},{key:"getValue",value:function(t,e){for(var n=0,i=e.length;n<i;++n){if(!t)return;var a=e[n];if(!(a in t))return;t="function"==typeof t[a]?t[a]():t[a]}return t}},{key:"setValue",value:function(t,e,n){var i;for(i=0;i<n.length-1;i++)t=t[n[i]];t[n[i]]=e}}]),t}()).\u0275fac=function(t){return new(t||P)},P.\u0275pipe=d.Mb({name:"orderBy",type:P,pure:!1}),P),T=((R=function t(){n(this,t)}).\u0275fac=function(t){return new(t||R)},R.\u0275mod=d.Lb({type:R}),R.\u0275inj=d.Kb({providers:[L]}),R),E=o("3Pt+"),j=o("kmnG"),U=o("qFsG"),N=o("bTqV");function G(t,e){1&t&&(d.Sb(0,"mat-error"),d.Dc(1," Please enter a valid email address "),d.Rb())}function q(t,e){1&t&&(d.Sb(0,"mat-error"),d.Dc(1," Email is "),d.Sb(2,"strong"),d.Dc(3,"required"),d.Rb(),d.Rb())}function $(t,e){1&t&&(d.Sb(0,"mat-error"),d.Dc(1," Password is "),d.Sb(2,"strong"),d.Dc(3,"required"),d.Rb(),d.Rb())}var B,V,W=((V=function(){function t(e,i,a,o,r){n(this,t),this.fb=e,this.adminService=i,this.router=a,this.route=o,this.afAuth=r,this.adminLoginForm=this.fb.group({emailForm:["",[E.n.required,E.n.email]],passwordForm:["",E.n.required]})}return a(t,[{key:"ngOnInit",value:function(){this.afAuth.signOut()}},{key:"email",get:function(){return this.adminLoginForm.get("emailForm")}},{key:"password",get:function(){return this.adminLoginForm.get("passwordForm")}},{key:"logIn",value:function(){var t=this;this.afAuth.signInWithEmailAndPassword(this.email.value,this.password.value).then(function(e){e.user&&(t.adminService.isLogedin=!0,t.router.navigate(["./main"],{relativeTo:t.route}))}).catch(function(t){console.log("error",t)})}}]),t}()).\u0275fac=function(t){return new(t||V)(d.Nb(E.b),d.Nb(w),d.Nb(v.j),d.Nb(v.a),d.Nb(C.a))},V.\u0275cmp=d.Hb({type:V,selectors:[["jungle-login"]],decls:15,vars:4,consts:[[1,"admin_login_container"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","30px",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","formControlName","emailForm","placeholder","enter Email"],[4,"ngIf"],["matInput","","formControlName","passwordForm","placeholder","enter Password"],["mat-raised-button","","color","accent"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"form",1),d.ac("ngSubmit",function(){return e.logIn()}),d.Sb(2,"mat-form-field",2),d.Sb(3,"mat-label"),d.Dc(4,"Email"),d.Rb(),d.Ob(5,"input",3),d.Cc(6,G,2,0,"mat-error",4),d.Cc(7,q,4,0,"mat-error",4),d.Rb(),d.Sb(8,"mat-form-field",2),d.Sb(9,"mat-label"),d.Dc(10,"Password"),d.Rb(),d.Ob(11,"input",5),d.Cc(12,$,4,0,"mat-error",4),d.Rb(),d.Sb(13,"button",6),d.Dc(14,"Log in"),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.Db(1),d.kc("formGroup",e.adminLoginForm),d.Db(5),d.kc("ngIf",e.email.hasError("email")&&!e.email.hasError("required")),d.Db(1),d.kc("ngIf",e.email.hasError("required")),d.Db(5),d.kc("ngIf",e.password.hasError("required")))},directives:[E.o,E.i,O.e,O.d,O.f,E.d,j.c,j.f,U.a,E.a,E.h,E.c,c.k,N.a,j.b],styles:[".admin_login_container[_ngcontent-%COMP%]{background-color:#fff;margin:auto;min-height:calc(100% - 371px);width:1280px}@media (min-width:1280px) and (max-width:1399px){.admin_login_container[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.admin_login_container[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.admin_login_container[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.admin_login_container[_ngcontent-%COMP%]{width:100%}}"]}),V),z=((B=function(){function t(e,i,a,o){n(this,t),this.adminService=e,this.router=i,this.route=a,this.localize=o}return a(t,[{key:"canActivate",value:function(t,e){if(this.adminService.isLogedin)return!0;var n=this.localize.translateRoute("/admin");return this.router.navigate([n]),!1}}]),t}()).\u0275fac=function(t){return new(t||B)(d.Wb(w),d.Wb(v.j),d.Wb(v.a),d.Wb(M.c))},B.\u0275prov=d.Jb({token:B,factory:B.\u0275fac}),B),H=o("ihCf");function J(t,e){if(1&t){var n=d.Tb();d.Sb(0,"div",11),d.Ob(1,"img",12),d.Sb(2,"fa-icon",13),d.ac("click",function(){d.uc(n);var t=d.ec();return t.deleteAboutMeImage(null==t.aboutMe?null:t.aboutMe.url)}),d.Rb(),d.Rb()}if(2&t){var i=d.ec();d.Db(1),d.kc("src",null==i.aboutMe?null:i.aboutMe.url,d.xc)}}var X,K=((X=function(){function e(t){n(this,e),this.adminService=t,this.uploadedFiles=[],this.oldRealImageUrl=""}return a(e,[{key:"ngOnInit",value:function(){this.getAboutMe("about-me")}},{key:"uploadAboutMeImage",value:function(e){var n=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){n.uploadedFiles.push(t),n.adminService.imageRender(t).subscribe(function(t){n.oldRealImageUrl=n.aboutMe.url,n.aboutMe.url=t},function(t){alert(t)})})}},{key:"deleteAboutMeImage",value:function(t){this.aboutMe.url="",this.uploadedFiles=[],t.includes("base64")||(this.oldRealImageUrl=t)}},{key:"saveAboutMe",value:function(t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0!==this.uploadedFiles.length,!e.t0){e.next=5;break}return e.next=4,this.adminService.uploadFile(this.uploadedFiles[0],l.aboutMeImage);case 4:this.aboutMe.url=e.sent;case 5:if(this.oldRealImageUrl&&this.adminService.deleteImageFromStorage(l.aboutMeImage,this.oldRealImageUrl).then(function(t){}),n={aboutme:{am:this.aboutMe.aboutme.am,en:this.aboutMe.aboutme.en},url:this.aboutMe.url},!t){e.next=13;break}return i="".concat(m.a.aboutMe,"/").concat(t),e.next=11,this.adminService.updateDataBaseDocument(n,i);case 11:e.next=15;break;case 13:return e.next=15,this.adminService.setToDataBase(n,m.a.aboutMe);case 15:case"end":return e.stop()}},e,this)}))}},{key:"getAboutMe",value:function(t){var e=this;this.adminService.getCollectionFromDb(t).subscribe(function(t){e.aboutMe=t[0]})}}]),e}()).\u0275fac=function(t){return new(t||X)(d.Nb(w))},X.\u0275cmp=d.Hb({type:X,selectors:[["jungle-about-me"]],decls:21,vars:3,consts:[[1,"about_me_cont"],[1,"about_me"],["fxLayout","row","fxLayoutAlign","center start","fxLayoutGap","10px"],["fxFlex","40","fxFlex.xs","100",1,"am_desc"],["matInput","","cdkTextareaAutosize","","rows","5",3,"ngModel","ngModelChange"],["for","aboutMeImg",1,"typeFileLabel"],["src","../../../../assets/img/admin/chose-file.gif","alt","chose about me image"],["type","file","id","aboutMeImg",3,"change"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","slider_images",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"slider_images"],["alt","About me image",3,"src"],["icon","times-circle",3,"click"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"h1"),d.Dc(3,"About me"),d.Rb(),d.Sb(4,"div",2),d.Sb(5,"mat-form-field",3),d.Sb(6,"mat-label"),d.Dc(7,"About me in Armenian"),d.Rb(),d.Sb(8,"textarea",4),d.ac("ngModelChange",function(t){return(null==e.aboutMe?null:e.aboutMe.aboutme).am=t}),d.Rb(),d.Rb(),d.Sb(9,"mat-form-field",3),d.Sb(10,"mat-label"),d.Dc(11,"About me in English"),d.Rb(),d.Sb(12,"textarea",4),d.ac("ngModelChange",function(t){return(null==e.aboutMe?null:e.aboutMe.aboutme).en=t}),d.Rb(),d.Rb(),d.Rb(),d.Sb(13,"label",5),d.Dc(14," click on sheep to chose new img "),d.Ob(15,"img",6),d.Rb(),d.Sb(16,"input",7),d.ac("change",function(t){return e.uploadAboutMeImage(t)}),d.Rb(),d.Sb(17,"div",8),d.Cc(18,J,3,1,"div",9),d.Rb(),d.Sb(19,"button",10),d.ac("click",function(){return e.saveAboutMe(null==e.aboutMe?null:e.aboutMe.id)}),d.Dc(20,"Save about me"),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.Db(8),d.kc("ngModel",null==e.aboutMe?null:e.aboutMe.aboutme.am),d.Db(4),d.kc("ngModel",null==e.aboutMe?null:e.aboutMe.aboutme.en),d.Db(6),d.kc("ngIf",""!==(null==e.aboutMe?null:e.aboutMe.url)))},directives:[O.e,O.d,O.f,j.c,O.b,j.f,U.a,H.b,E.a,E.h,E.k,c.k,N.a,S.a],styles:[".about_me_cont[_ngcontent-%COMP%]{width:1280px;background-color:#fff;margin:auto;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media (min-width:1280px) and (max-width:1399px){.about_me_cont[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.about_me_cont[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.about_me_cont[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.about_me_cont[_ngcontent-%COMP%]{width:100%}}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]{padding:20px;margin-top:20px}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]{width:200px;height:200px;position:relative}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px;padding:5px}.about_me_cont[_ngcontent-%COMP%]   .about_me[_ngcontent-%COMP%]   .slider_images[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}"]}),X),Q=o("Xa2L"),Y=o("Wp6s");function Z(t,e){if(1&t){var n=d.Tb();d.Sb(0,"button",23),d.ac("click",function(){return d.uc(n),d.ec().amTitle=""}),d.Ob(1,"fa-icon",24),d.Rb()}}function tt(t,e){if(1&t){var n=d.Tb();d.Sb(0,"button",23),d.ac("click",function(){return d.uc(n),d.ec().enTitle=""}),d.Ob(1,"fa-icon",24),d.Rb()}}function et(t,e){if(1&t){var n=d.Tb();d.Sb(0,"button",23),d.ac("click",function(){return d.uc(n),d.ec().amTitle=""}),d.Ob(1,"fa-icon",24),d.Rb()}}function nt(t,e){if(1&t){var n=d.Tb();d.Sb(0,"div",25),d.Sb(1,"mat-form-field"),d.Sb(2,"mat-label"),d.Dc(3,"Assortment Armenian name"),d.Rb(),d.Sb(4,"input",26),d.ac("ngModelChange",function(t){d.uc(n);var i=e.index;return d.ec().assortmentsImages[i].name.am=t}),d.Rb(),d.Rb(),d.Sb(5,"mat-form-field"),d.Sb(6,"mat-label"),d.Dc(7,"Assortment English name"),d.Rb(),d.Sb(8,"input",26),d.ac("ngModelChange",function(t){d.uc(n);var i=e.index;return d.ec().assortmentsImages[i].name.en=t}),d.Rb(),d.Rb(),d.Sb(9,"mat-form-field"),d.Sb(10,"mat-label"),d.Dc(11,"Assortment price"),d.Rb(),d.Sb(12,"input",27),d.ac("ngModelChange",function(t){d.uc(n);var i=e.index;return d.ec().assortmentsImages[i].price=t}),d.Rb(),d.Rb(),d.Sb(13,"div",28),d.Ob(14,"img",29),d.Sb(15,"fa-icon",30),d.ac("click",function(){d.uc(n);var t=e.index,i=e.$implicit;return d.ec().deleteAssortmentImage(t,i.url)}),d.Rb(),d.Sb(16,"input",31),d.ac("change",function(){d.uc(n);var t=e.index;return d.ec().makeMainImage(t)}),d.Rb(),d.Rb(),d.Rb()}if(2&t){var i=e.$implicit,a=e.index,o=d.ec();d.Db(4),d.lc("name","inputArm",a,""),d.kc("ngModel",o.assortmentsImages[a].name.am),d.Db(4),d.lc("name","inputEn",a,""),d.kc("ngModel",o.assortmentsImages[a].name.en),d.Db(4),d.lc("name","inputPrice",a,""),d.kc("ngModel",o.assortmentsImages[a].price),d.Db(2),d.kc("src",i.url,d.xc),d.Db(2),d.kc("checked",i.main)}}function it(t,e){1&t&&d.Ob(0,"mat-spinner",34)}function at(t,e){if(1&t){var n=d.Tb();d.Sb(0,"button",32),d.ac("click",function(){return d.uc(n),d.ec().addNewAssortmentFunc()}),d.Dc(1," Add new assortment "),d.Cc(2,it,1,0,"mat-spinner",33),d.Rb()}if(2&t){var i=d.ec();d.Db(2),d.kc("ngIf",i.isLoading)}}function ot(t,e){1&t&&d.Ob(0,"mat-spinner",34)}function rt(t,e){if(1&t){var n=d.Tb();d.Sb(0,"button",32),d.ac("click",function(){return d.uc(n),d.ec().addNewAssortmentFunc()}),d.Dc(1," Update assortment "),d.Cc(2,ot,1,0,"mat-spinner",33),d.Rb()}if(2&t){var i=d.ec();d.Db(2),d.kc("ngIf",i.isLoading)}}function ct(t,e){if(1&t&&d.Ob(0,"input",43),2&t){var n=d.ec().$implicit;d.kc("checked",n.main)}}function st(t,e){if(1&t&&(d.Sb(0,"div",39),d.Sb(1,"mat-card",40),d.Sb(2,"mat-card-header"),d.Cc(3,ct,1,1,"input",41),d.Sb(4,"mat-card-title"),d.Dc(5),d.Rb(),d.Sb(6,"mat-card-title"),d.Dc(7),d.Rb(),d.Sb(8,"mat-card-subtitle"),d.Dc(9),d.Rb(),d.Rb(),d.Ob(10,"img",42),d.Rb(),d.Rb()),2&t){var n=e.$implicit;d.Db(3),d.kc("ngIf",n.main),d.Db(2),d.Ec(n.name.am),d.Db(2),d.Ec(n.name.en),d.Db(2),d.Ec(n.price),d.Db(1),d.kc("src",n.url,d.xc)}}function ut(t,e){if(1&t){var n=d.Tb();d.Sb(0,"div",35),d.Sb(1,"button",36),d.ac("click",function(){d.uc(n);var t=e.$implicit,i=d.ec(),a=d.rc(2);return i.editAssortment(t,a)}),d.Dc(2," Edit "),d.Rb(),d.Sb(3,"h3"),d.Dc(4,"Title Armenian"),d.Rb(),d.Sb(5,"p"),d.Dc(6),d.Rb(),d.Sb(7,"h3"),d.Dc(8,"Title English"),d.Rb(),d.Sb(9,"p"),d.Dc(10),d.Rb(),d.Sb(11,"h3"),d.Dc(12,"Description Armenian"),d.Rb(),d.Sb(13,"p"),d.Dc(14),d.Rb(),d.Sb(15,"h3"),d.Dc(16,"Description English"),d.Rb(),d.Sb(17,"p"),d.Dc(18),d.Rb(),d.Sb(19,"h3"),d.Dc(20,"price"),d.Rb(),d.Sb(21,"p"),d.Dc(22),d.Rb(),d.Sb(23,"h3"),d.Dc(24,"puctures"),d.Rb(),d.Sb(25,"div",37),d.Cc(26,st,11,5,"div",38),d.Rb(),d.Rb()}if(2&t){var i=e.$implicit;d.Db(6),d.Ec(i.title.am),d.Db(4),d.Ec(i.title.en),d.Db(4),d.Ec(i.description.am),d.Db(4),d.Ec(i.description.en),d.Db(4),d.Ec(i.price),d.Db(4),d.kc("ngForOf",i.urls)}}var mt,lt,dt=[{path:"",component:W},{path:"main",component:I},{path:"about",component:K},{path:"assortments",component:(mt=function(){function e(t,i){n(this,e),this.adminService=t,this.platformId=i,this.assortments=[],this.assortmentsImages=[],this.amTitle="",this.enTitle="",this.enDescription="",this.amDescription="",this.uploadedFiles=[],this.price="",this.deletedUrls=[],this.idForUpdate=null,this.isLoading=!1}return a(e,[{key:"ngOnInit",value:function(){Object(c.r)(this.platformId)&&this.getAssortments(m.a.assortments)}},{key:"getAssortments",value:function(e){var n=this;this.adminService.getCollectionFromDb(e).subscribe(function(e){n.assortments=t(e)})}},{key:"uploadAssortmentFiles",value:function(e,n){var i=this;0!==e.target.files.length&&t(e.target.files).forEach(function(t){i.uploadedFiles.push(t),i.adminService.imageRender(t).subscribe(function(t){i.assortmentsImages.push({url:t,main:!1,name:{am:"",en:""},price:""})},function(t){alert(t)})})}},{key:"manageUrls",value:function(){var t=this;return new Promise(function(e){Promise.all(t.uploadedFiles.map(function(e,n){return t.adminService.uploadFile(e,l.assortmentImage)})).then(function(n){var i=t.assortmentsImages.length-t.uploadedFiles.length;n.forEach(function(e,n){t.assortmentsImages[n+i].url=e}),e("")})})}},{key:"addNewAssortmentFunc",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.t0=""!==this.amTitle&&""!==this.enTitle&&""!==this.enDescription&&""!==this.amDescription&&""!==this.price,!t.t0){t.next=9;break}if(t.t1=0!==this.uploadedFiles.length,!t.t1){t.next=7;break}return t.next=7,this.manageUrls();case 7:this.addNewAssortment={title:{am:this.amTitle?this.amTitle:"",en:this.enTitle?this.enTitle:""},description:{am:this.amDescription,en:this.enDescription},price:this.price,urls:this.assortmentsImages},null===this.idForUpdate?this.adminService.setToDataBase(this.addNewAssortment,m.a.assortments).then(function(t){e.isLoading=!1,e.resetForm()}):this.adminService.updateDataBaseDocument(this.addNewAssortment,"".concat(m.a.assortments,"/").concat(this.idForUpdate)).then(function(t){0!==e.deletedUrls.length?e.deletedUrls.forEach(function(t){e.adminService.deleteImageFromStorage(l.assortmentImage,t).then(function(t){e.isLoading=!1,e.resetForm()})}):(e.isLoading=!1,e.resetForm())});case 9:case"end":return t.stop()}},t,this)}))}},{key:"resetForm",value:function(){this.amTitle="",this.enTitle="",this.amDescription="",this.enDescription="",this.price="",this.assortmentsImages=[],this.idForUpdate=null,this.assortmentUploadInput="",this.uploadedFiles=[],this.deletedUrls=[]}},{key:"editAssortment",value:function(e,n){this.amTitle=e.title.am,this.enTitle=e.title.en,this.amDescription=e.description.am,this.enDescription=e.description.en,this.price=e.price,this.assortmentsImages=t(e.urls),this.idForUpdate=e.id,n.scrollIntoView()}},{key:"makeMainImage",value:function(t){this.assortmentsImages.forEach(function(t){t.main=!1}),this.assortmentsImages[t].main=!0}},{key:"deleteAssortment",value:function(t,e,n){}},{key:"deleteAssortmentImage",value:function(t,e){var n=this.assortmentsImages.length-this.uploadedFiles.length;this.assortmentsImages.splice(t,1),e.includes("base64")?this.uploadedFiles.splice(t-n,1):this.deletedUrls.push(e)}}]),e}(),mt.\u0275fac=function(t){return new(t||mt)(d.Nb(w),d.Nb(d.C))},mt.\u0275cmp=d.Hb({type:mt,selectors:[["jungle-assortment"]],decls:45,vars:14,consts:[[1,"assortment_cont"],[1,"add_new_assortment_cont"],["formDiv",""],[1,"add_new_assortment"],[1,"assortment_title"],[1,"am_title"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"en_title"],["fxLayout","row wrap","fxLayoutAlign","center center","fxLayoutGap","20px",1,"assortment_desc"],[1,"am_desc"],["matInput","","cdkTextareaAutosize","","rows","5",3,"ngModel","ngModelChange"],[1,"en_desc"],[1,"price"],[1,"upload_assortment_img"],["for","assortmentImg",1,"typeFileLabel"],["src","../../../../assets/img/admin/chose-file.gif","alt",""],["type","file","id","assortmentImg",3,"multiple","ngModel","ngModelChange","change"],["fxLayout","row wrap","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutAlign","center center","class","delete_assortment_image_div",4,"ngFor","ngForOf"],["class","add_new_assortment_button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"assortment_show_part_cont"],["class","assortment_show_div",4,"ngFor","ngForOf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["icon","times-circle"],["fxLayout","column","fxLayoutAlign","center center",1,"delete_assortment_image_div"],["matInput","","type","text",3,"name","ngModel","ngModelChange"],["matInput","","type","number",3,"name","ngModel","ngModelChange"],[1,"images_div"],["alt","",3,"src"],["icon","times-circle",3,"click"],["type","checkbox",3,"checked","change"],["mat-raised-button","","color","primary",1,"add_new_assortment_button",3,"click"],["color","accent",4,"ngIf"],["color","accent"],[1,"assortment_show_div"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","20px"],["class","assortment_show_image_div",4,"ngFor","ngForOf"],[1,"assortment_show_image_div"],[1,"example-card"],["type","checkbox",3,"checked",4,"ngIf"],["mat-card-image","","alt","picture",3,"src"],["type","checkbox",3,"checked"]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1,2),d.Sb(3,"h1"),d.Dc(4,"Add new assortment"),d.Rb(),d.Sb(5,"div",3),d.Sb(6,"div",4),d.Sb(7,"mat-form-field",5),d.Sb(8,"mat-label"),d.Dc(9,"Title Armenian "),d.Rb(),d.Sb(10,"input",6),d.ac("ngModelChange",function(t){return e.amTitle=t}),d.Rb(),d.Cc(11,Z,2,0,"button",7),d.Rb(),d.Sb(12,"mat-form-field",8),d.Sb(13,"mat-label"),d.Dc(14,"Title English "),d.Rb(),d.Sb(15,"input",6),d.ac("ngModelChange",function(t){return e.enTitle=t}),d.Rb(),d.Cc(16,tt,2,0,"button",7),d.Rb(),d.Rb(),d.Sb(17,"div",9),d.Sb(18,"mat-form-field",10),d.Sb(19,"mat-label"),d.Dc(20,"Description in Armenian"),d.Rb(),d.Sb(21,"textarea",11),d.ac("ngModelChange",function(t){return e.amDescription=t}),d.Rb(),d.Rb(),d.Sb(22,"mat-form-field",12),d.Sb(23,"mat-label"),d.Dc(24,"Description in English"),d.Rb(),d.Sb(25,"textarea",11),d.ac("ngModelChange",function(t){return e.enDescription=t}),d.Rb(),d.Rb(),d.Rb(),d.Sb(26,"div",13),d.Sb(27,"mat-form-field",5),d.Sb(28,"mat-label"),d.Dc(29,"Price in AMD "),d.Rb(),d.Sb(30,"input",6),d.ac("ngModelChange",function(t){return e.price=t}),d.Rb(),d.Cc(31,et,2,0,"button",7),d.Rb(),d.Rb(),d.Sb(32,"div",14),d.Sb(33,"label",15),d.Dc(34," click on sheep to chose new img "),d.Ob(35,"img",16),d.Rb(),d.Sb(36,"input",17),d.ac("ngModelChange",function(t){return e.assortmentUploadInput=t})("change",function(t){return e.uploadAssortmentFiles(t,"assortment-img")}),d.Rb(),d.Sb(37,"div",18),d.Cc(38,nt,17,8,"div",19),d.Rb(),d.Rb(),d.Rb(),d.Cc(39,at,3,1,"button",20),d.Cc(40,rt,3,1,"button",20),d.Rb(),d.Sb(41,"div",21),d.Sb(42,"h1"),d.Dc(43,"Existing assortment"),d.Rb(),d.Cc(44,ut,27,6,"div",22),d.Rb(),d.Rb()),2&t&&(d.Db(10),d.kc("ngModel",e.amTitle),d.Db(1),d.kc("ngIf",e.amTitle),d.Db(4),d.kc("ngModel",e.enTitle),d.Db(1),d.kc("ngIf",e.enTitle),d.Db(5),d.kc("ngModel",e.amDescription),d.Db(4),d.kc("ngModel",e.enDescription),d.Db(5),d.kc("ngModel",e.price),d.Db(1),d.kc("ngIf",e.amTitle),d.Db(5),d.kc("multiple",!0)("ngModel",e.assortmentUploadInput),d.Db(2),d.kc("ngForOf",e.assortmentsImages),d.Db(1),d.kc("ngIf",null===e.idForUpdate),d.Db(1),d.kc("ngIf",null!==e.idForUpdate),d.Db(4),d.kc("ngForOf",e.assortments))},directives:[j.c,j.f,U.a,E.a,E.h,E.k,c.k,O.e,O.d,O.f,H.b,c.j,N.a,j.g,S.a,E.l,Q.b,Y.a,Y.c,Y.g,Y.f,Y.d],styles:[".assortment_cont[_ngcontent-%COMP%]{width:1280px;background-color:#fff;margin:auto;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media (min-width:1280px) and (max-width:1399px){.assortment_cont[_ngcontent-%COMP%]{width:1200px}}@media (min-width:960px) and (max-width:1279px){.assortment_cont[_ngcontent-%COMP%]{width:900px}}@media (min-width:600px) and (max-width:959px){.assortment_cont[_ngcontent-%COMP%]{width:600px}}@media (max-width:599px){.assortment_cont[_ngcontent-%COMP%]{width:100%}}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]{padding:20px;margin:20px 0;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:15px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_title[_ngcontent-%COMP%]   .am_title[_ngcontent-%COMP%]{margin-right:30px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_desc[_ngcontent-%COMP%]   .am_desc[_ngcontent-%COMP%], .assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .assortment_desc[_ngcontent-%COMP%]   .en_desc[_ngcontent-%COMP%]{width:40%;min-width:200px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]{width:200px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]{position:relative;height:200px;padding:5px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #ddd;border-radius:4px}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;color:red;cursor:pointer}.assortment_cont[_ngcontent-%COMP%]   .add_new_assortment_cont[_ngcontent-%COMP%]   .delete_assortment_image_div[_ngcontent-%COMP%]   .images_div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:5px;bottom:10px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]{padding:20px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]{padding:20px;margin:20px 0;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]{width:250px;position:relative}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.assortment_cont[_ngcontent-%COMP%]   .assortment_show_part_cont[_ngcontent-%COMP%]   .assortment_show_div[_ngcontent-%COMP%]   .assortment_show_image_div[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:5px;bottom:10px}button[_ngcontent-%COMP%]{position:relative}  mat-spinner{position:absolute!important;top:0;left:0;bottom:0;right:0;margin:auto}  mat-spinner,   mat-spinner svg{width:20px!important;height:20px!important}"]}),mt)}],bt=((lt=function t(){n(this,t)}).\u0275fac=function(t){return new(t||lt)},lt.\u0275mod=d.Lb({type:lt}),lt.\u0275inj=d.Kb({providers:[z],imports:[[c.c,v.m.forChild(dt),A.b.forChild(),F.a,T,E.e]]}),lt)}}])}();